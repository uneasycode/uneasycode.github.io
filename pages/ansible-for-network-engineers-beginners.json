{
  "title": "Ansible for Network Engineers: A Beginner's Guide",
  "category": "Beginner",
  "description": "Learn Ansible automation for network engineering with multi-vendor examples including Cisco, Juniper, and Arista",
  "tags": [
    "Ansible",
    "Automation",
    "Networking",
    "DevOps",
    "Cisco",
    "Juniper",
    "Arista"
  ],
  "content": "\n# Ansible for Network Engineers: A Beginner's Guide\n\n## Introduction to Ansible\n\n### What is Ansible?\n\nAnsible is an open-source automation tool that simplifies IT orchestration, configuration management, and application deployment. For network engineers, Ansible provides a powerful way to automate repetitive network tasks, manage device configurations, and ensure consistent network operations across large-scale infrastructures.\n\n### Why Ansible for Network Engineers?\n\nNetwork engineers often face challenges like:\n- **Manual Configuration**: Time-consuming CLI commands on hundreds of devices\n- **Configuration Drift**: Inconsistent configurations across network devices\n- **Lack of Version Control**: No history of configuration changes\n- **Error-Prone Tasks**: Human errors during bulk configuration changes\n\nAnsible solves these problems by:\n- **Agentless Architecture**: No software installation required on network devices\n- **Declarative Automation**: Describe desired state, Ansible handles execution\n- **Idempotent Operations**: Safe to run multiple times without unintended changes\n- **Multi-Vendor Support**: Works with Cisco, Juniper, Arista, Nokia, and more\n\n### Ansible Architecture Overview\n\n```mermaid\ngraph TD\n    A[Control Machine<br/>Your Laptop/Server] --> B[SSH/Telnet/Netconf]\n    B --> C[Target Devices\\nRouters & Switches]\n\n    D[Ansible\\nPlaybooks] --> E[Ansible\\nEngine]\n    E --> F[Modules\\ncli_command, netconf_get]\n\n    G[Inventory\\nhosts.ini] --> E\n    H[Variables\\ngroup_vars/host_vars] --> E\n\n    I[Ansible Tower/AWX\\nWeb Interface\\nOptional] --> E\n```\n\n## Installing Ansible\n\n### System Requirements\n\n- **Control Machine**: Linux, macOS, or Windows (via WSL)\n- **Python**: Version 3.8 or newer\n- **Network Access**: SSH/telnet access to network devices\n\n### Installation on Linux (Ubuntu/Debian)\n\n```bash\n# Update package lists\nsudo apt update\n\n# Install Python and pip\nsudo apt install python3 python3-pip -y\n\n# Install Ansible using pip (recommended)\npip3 install ansible\n\n# Verify installation\nansible --version\n```\n\n### Installation on macOS\n\n```bash\n# Using Homebrew\nbrew install ansible\n\n# Using pip\npip3 install ansible\n\n# Verify installation\nansible --version\n```\n\n### Installation on Windows (WSL)\n\n```bash\n# Install WSL first, then use Linux commands above\n# Or use pip directly in Windows\npip install ansible\n```\n\n### Post-Installation Configuration\n\n```bash\n# Create Ansible directory structure\nmkdir -p ~/ansible/{inventory,playbooks,roles}\ncd ~/ansible\n\n# Generate SSH key for passwordless authentication\nssh-keygen -t rsa -b 2048 -f ~/.ssh/id_rsa_ansible\n\n# Test installation\nansible localhost -m ping\n```\n\n## Ansible Components for Network Engineers\n\n### 1. Inventory File\n\nThe inventory file defines which devices Ansible will manage.\n\n**Basic Inventory Structure (`hosts.ini`):**\n```ini\n[cisco_routers]\nR1 ansible_host=192.168.1.10\nR2 ansible_host=192.168.1.11\n\n[juniper_switches]\nSW1 ansible_host=192.168.1.20\nSW2 ansible_host=192.168.1.21\n\n[arista_switches]\nASW1 ansible_host=192.168.1.30\nASW2 ansible_host=192.168.1.31\n\n[routers:children]\ncisco_routers\njuniper_switches\n\n[network_devices:children]\nrouters\narista_switches\n```\n\n### 2. Playbooks\n\nPlaybooks are YAML files that define automation tasks.\n\n**Basic Playbook Structure:**\n```yaml\n---\n- name: Network Device Configuration\n  hosts: network_devices\n  connection: network_cli\n  gather_facts: no\n\n  tasks:\n    - name: Run show command\n      ios_command:\n        commands: show version\n      register: output\n\n    - name: Debug output\n      debug:\n        msg: \"{{ output.stdout_lines }}\"\n```\n\n### 3. Variables\n\nVariables allow customization of playbooks.\n\n**Group Variables (`group_vars/cisco_routers.yml`):**\n```yaml\nansible_network_os: ios\nansible_user: admin\nansible_password: \"{{ vaulted_password }}\"\nansible_connection: network_cli\nansible_become: yes\nansible_become_method: enable\nenable_password: \"{{ vaulted_enable_pass }}\"\n\n# Device-specific variables\nlogging_server: 192.168.1.100\nsnmp_community: public\n```\n\n**Host Variables (`host_vars/R1.yml`):**\n```yaml\nhostname: Router-1\nloopback_ip: 10.1.1.1\nmanagement_ip: 192.168.1.10\ninterfaces:\n  - name: GigabitEthernet0/0\n    ip: 172.16.1.1\n    mask: 255.255.255.0\n  - name: GigabitEthernet0/1\n    ip: 172.16.2.1\n    mask: 255.255.255.0\n```\n\n### 4. Modules\n\nAnsible modules are reusable units of code.\n\n**Common Network Modules:**\n- `cli_command`: Execute CLI commands\n- `netconf_get`: Retrieve NETCONF data\n- `netconf_config`: Configure via NETCONF\n- `command`: Execute commands on control machine\n\n### 5. Facts and Facts Gathering\n\nFacts are information Ansible collects about target devices.\n\n```yaml\n---\n- name: Gather facts\n  hosts: cisco_routers\n  gather_facts: no\n\n  tasks:\n    - name: Gather network device facts\n      ios_facts:\n      register: ios_facts\n\n    - name: Display facts\n      debug:\n        msg: |\n          Device: {{ ios_facts.ansible_net_hostname }}\n          OS Version: {{ ios_facts.ansible_net_version }}\n          Uptime: {{ ios_facts.ansible_net_uptime }}\n```\n\n## Sample Network Topology\n\nOur demo topology includes multiple vendor devices connected in a typical enterprise network:\n\n```mermaid\ngraph TD\n    A[Ansible Control\\nMachine] -->|SSH| B[Cisco Router\\nR1\\n192.168.1.10]\n    A -->|SSH| C[Cisco Router\\nR2\\n192.168.1.11]\n    A -->|SSH| D[Juniper Switch\\nSW1\\n192.168.1.20]\n    A -->|SSH| E[Juniper Switch\\nSW2\\n192.168.1.21]\n    A -->|SSH| F[Arista Switch\\nASW1\\n192.168.1.30]\n    A -->|SSH| G[Arista Switch\\nASW2\\n192.168.1.31]\n\n    B -->|Gig0/0| H[Internet\\nCloud]\n    B -->|Gig0/1| C\n    C -->|Gig0/1| D\n    D -->|ge-0/0/1| E\n    E -->|ge-0/0/2| F\n    F -->|Ethernet1| G\n\n    subgraph \"Data Center\"\n        G\n        F\n    end\n\n    subgraph \"Core Network\"\n        C\n        D\n        E\n    end\n\n    subgraph \"Edge Network\"\n        B\n    end\n\n    style A fill:#e1f5fe\n    style H fill:#f5f5f5\n```\n\n## Sample Playbooks\n\n### Inventory File (hosts.ini)\n\n```ini\n[control_machine]\nansible ansible_host=127.0.0.1 ansible_connection=local\n\n[cisco_routers]\nR1 ansible_host=192.168.1.10\nR2 ansible_host=192.168.1.11\n\n[juniper_switches]\nSW1 ansible_host=192.168.1.20\nSW2 ansible_host=192.168.1.21\n\n[arista_switches]\nASW1 ansible_host=192.168.1.30\nASW2 ansible_host=192.168.1.31\n\n[network_devices:children]\ncisco_routers\njuniper_switches\narista_switches\n```\n\n### Group Variables (group_vars/cisco_routers.yml)\n\n```yaml\nansible_network_os: ios\nansible_user: cisco\nansible_password: ciscopassword\nansible_connection: network_cli\nansible_become: yes\nansible_become_method: enable\nenable_password: enablepassword\n\nlogging_host: 192.168.1.100\nsnmp_community: networkmonitoring\n```\n\n### 1. Show Commands Playbook\n\nThis playbook demonstrates running show commands across different vendors.\n\n```yaml\n---\n- name: Network Device Show Commands\n  hosts: network_devices\n  connection: network_cli\n  gather_facts: no\n\n  tasks:\n    - name: Show version - Cisco\n      ios_command:\n        commands: show version | include Version\n      register: version_output\n      when: \"'cisco_routers' in group_names\"\n\n    - name: Show version - Juniper\n      junos_command:\n        commands: show version | match hostname\n      register: version_output\n      when: \"'juniper_switches' in group_names\"\n\n    - name: Show version - Arista\n      eos_command:\n        commands: show version | include Software\n      register: version_output\n      when: \"'arista_switches' in group_names\"\n\n    - name: Display version information\n      debug:\n        msg: |\n          Device: {{ inventory_hostname }}\n          Version Info: {{ version_output.stdout_lines[0] | join(' ') }}\n\n    - name: Show interfaces - Cisco\n      ios_command:\n        commands: show ip interface brief\n      register: int_output\n      when: \"'cisco_routers' in group_names\"\n\n    - name: Show interfaces - Juniper\n      junos_command:\n        commands: show interfaces terse\n      register: int_output\n      when: \"'juniper_switches' in group_names\"\n\n    - name: Show interfaces - Arista\n      eos_command:\n        commands: show ip interface brief\n      register: int_output\n      when: \"'arista_switches' in group_names\"\n\n    - name: Display interface information\n      debug:\n        msg: \"{{ int_output.stdout_lines }}\"\n```\n\n**Sample Execution Output:**\n\n```bash\n$ ansible-playbook show_commands.yml -i hosts.ini\n\nPLAY [Network Device Show Commands] ***************************\n\nTASK [Show version - Cisco] **********************************\nok: [R1]\nok: [R2]\n\nTASK [Show version - Juniper] *******************************\nok: [SW1]\nok: [SW2]\n\nTASK [Show version - Arista] ********************************\nok: [ASW1]\nok: [ASW2]\n\nTASK [Display version information] **************************\nok: [R1] => {\n    \"msg\": \"Device: R1\\nVersion Info: Cisco IOS Software, IOSv Software (VIOS-ADVENTERPRISEK9-M), Version 15.7(3)M3\"\n}\nok: [R2] => {\n    \"msg\": \"Device: R2\\nVersion Info: Cisco IOS Software, IOSv Software (VIOS-ADVENTERPRISEK9-M), Version 15.7(3)M3\"\n}\nok: [SW1] => {\n    \"msg\": \"Device: SW1\\nVersion Info: Hostname: SW1-core\"\n}\nok: [SW2] => {\n    \"msg\": \"Device: SW2\\nVersion Info: Hostname: SW2-edge\"\n}\nok: [ASW1] => {\n    \"msg\": \"Device: ASW1\\nVersion Info: Arista EOS Software, Version 4.25.4M\"\n}\nok: [ASW2] => {\n    \"msg\": \"Device: ASW2\\nVersion Info: Arista EOS Software, Version 4.25.4M\"\n}\n\nTASK [Show interfaces - Cisco] *****************************\nok: [R1]\nok: [R2]\n\nTASK [Show interfaces - Juniper] ***************************\nok: [SW1]\nok: [SW2]\n\nTASK [Show interfaces - Arista] ****************************\nok: [ASW1]\nok: [ASW2]\n\nTASK [Display interface information] ***********************\nok: [R1] => {\n    \"msg\": [\n        \"Interface                  IP-Address      OK? Method Status                Protocol\",\n        \"GigabitEthernet0/0         192.168.1.1     YES manual up                    up\",\n        \"GigabitEthernet0/1         unassigned      YES NVRAM  up                    up\",\n        \"GigabitEthernet0/2         10.1.1.1        YES manual up                    up\"\n    ]\n}\nok: [SW1] => {\n    \"msg\": [\n        \"Interface               Admin Link Proto    Local                 Remote\",\n        \"cbp0                    up    up\",\n        \"demux0                  up    up\",\n        \"dsc                     up    up\",\n        \"em0                     up    up   inet     10.0.0.1/8\",\n        \"em1                     up    down\",\n        \"ge-0/0/0               up    down\",\n        \"ge-0/0/1               up    up   inet     192.168.1.20/24\"\n    ]\n}\nok: [ASW1] => {\n    \"msg\": [\n        \"Interface              IP Address         Status     Protocol         MTU    Owner\",\n        \"Management1            192.168.1.30/24   up         up              1500\",\n        \"Ethernet1              unassigned         down       down            1500\",\n        \"Ethernet2              172.16.1.1/24     up         up              1500\"\n    ]\n}\n\nPLAY RECAP **************************************************\nR1          : ok=3    changed=0    unreachable=0    failed=0\nR2          : ok=3    changed=0    unreachable=0    failed=0\nSW1         : ok=3    changed=0    unreachable=0    failed=0\nSW2         : ok=3    changed=0    unreachable=0    failed=0\nASW1        : ok=3    changed=0    unreachable=0    failed=0\nASW2        : ok=3    changed=0    unreachable=0    failed=0\n```\n\n### 2. Configuration Pull Playbook\n\nThis playbook collects configurations from network devices and saves them locally.\n\n```yaml\n---\n- name: Network Device Configuration Backup\n  hosts: network_devices\n  connection: network_cli\n  gather_facts: no\n\n  tasks:\n    - name: Create backup directory\n      file:\n        path: \"./backups/{{ inventory_hostname }}\"\n        state: directory\n      delegate_to: localhost\n      run_once: true\n\n    - name: Backup Cisco running configuration\n      ios_command:\n        commands: show running-config\n      register: config_output\n      when: \"'cisco_routers' in group_names\"\n\n    - name: Backup Juniper configuration\n      junos_command:\n        commands: show configuration | display set\n      register: config_output\n      when: \"'juniper_switches' in group_names\"\n\n    - name: Backup Arista running configuration\n      eos_command:\n        commands: show running-config\n      register: config_output\n      when: \"'arista_switches' in group_names\"\n\n    - name: Save configuration to file\n      copy:\n        content: |\n          # Configuration backup for {{ inventory_hostname }}\n          # Date: {{ ansible_date_time.iso8601 }}\n          # Device: {{ inventory_hostname }}\n          {{ config_output.stdout[0] | default(config_output.stdout_lines | join('\\n')) }}\n        dest: \"./backups/{{ inventory_hostname }}/{{ inventory_hostname }}_{{ ansible_date_time.iso8601 }}.cfg\"\n      delegate_to: localhost\n\n    - name: Git add and commit backup\n      shell: |\n        cd backups\n        git add {{ inventory_hostname }}/{{ inventory_hostname }}_{{ ansible_date_time.iso8601 }}.cfg\n        git commit -m \"Backup {{ inventory_hostname }} configuration\"\n      delegate_to: localhost\n      run_once: true\n      ignore_errors: yes\n```\n\n**Sample Execution Output:**\n\n```bash\n$ ansible-playbook config_backup.yml -i hosts.ini\n\nPLAY [Network Device Configuration Backup] *******************\n\nTASK [Create backup directory] *******************************\nok: [R1 -> localhost]\n\nTASK [Backup Cisco running configuration] ********************\nok: [R1]\nok: [R2]\n\nTASK [Backup Juniper configuration] **************************\nok: [SW1]\nok: [SW2]\n\nTASK [Backup Arista running configuration] ******************\nok: [ASW1]\nok: [ASW2]\n\nTASK [Save configuration to file] ****************************\nok: [R1 -> localhost] =>\n  \"path\": \"/home/ansible/backups/R1/R1_2023-08-15T14-30-45.cfg\",\n  \"size\": 3456\nok: [R2 -> localhost] =>\n  \"path\": \"/home/ansible/backups/R2/R2_2023-08-15T14-30-45.cfg\"\nok: [SW1 -> localhost] =>\n  \"path\": \"/home/ansible/backups/SW1/SW1_2023-08-15T14-30-45.cfg\"\nok: [SW2 -> localhost] =>\n  \"path\": \"/home/ansible/backups/SW2/SW2_2023-08-15T14-30-45.cfg\"\nok: [ASW1 -> localhost] =>\n  \"path\": \"/home/ansible/backups/ASW1/ASW1_2023-08-15T14-30-45.cfg\"\nok: [ASW2 -> localhost] =>\n  \"path\": \"/home/ansible/backups/ASW2/ASW2_2023-08-15T14-30-45.cfg\"\n\nTASK [Git add and commit backup] *****************************\nchanged: [R1 -> localhost]\n\nPLAY RECAP **************************************************\nR1          : ok=5    changed=0    unreachable=0    failed=0\nR2          : ok=4    changed=0    unreachable=0    failed=0\nSW1         : ok=4    changed=0    unreachable=0    failed=0\nSW2         : ok=4    changed=0    unreachable=0    failed=0\nASW1        : ok=4    changed=0    unreachable=0    failed=0\nASW2        : ok=4    changed=0    unreachable=0    failed=0\n```\n\n**Sample Backup File Content (R1.cfg created):**\n\n```text\n# Configuration backup for R1\n# Date: 2023-08-15T14:30:45+00:00\n# Device: R1\nBuilding configuration...\n\nCurrent configuration : 3456 bytes\n!\n! Last configuration change at 14:25:30 UTC Wed Aug 15 2023 by ansible\n!\nversion 15.7\nservice timestamps debug datetime msec\nservice timestamps log datetime msec\n!\nhostname R1\n!\nboot-start-marker\nboot-end-marker\n!\n!\nusername cisco privilege 15 secret 9 $9$ABCDEFGHIJK\n!\n!\ninterface GigabitEthernet0/0\n ip address 192.168.1.1 255.255.255.0\n duplex auto\n speed auto\n media-type rj45\n!\ninterface GigabitEthernet0/1\n no ip address\n shutdown\n duplex auto\n speed auto\n media-type rj45\n!\ninterface GigabitEthernet0/2\n ip address 10.1.1.1 255.255.255.0\n duplex auto\n speed auto\n media-type rj45\n!\nrouter ospf 1\n network 10.1.1.0 0.0.0.255 area 0\n!\nip default-gateway 192.168.1.254\nip http server\nip http authentication local\nip http secure-server\n!\n!\nline con 0\n exec-timeout 0 0\n privilege level 15\n logging synchronous\nline aux 0\n exec-timeout 0 0\n privilege level 15\n logging synchronous\nline vty 0 4\n privilege level 15\n logging synchronous\n transport input ssh\n!\nend\n```\n\n**Sample Backup File Content (SW1.cfg created - Juniper set format):**\n\n```bash\n# Configuration backup for SW1\n# Date: 2023-08-15T14:30:45+00:00\n# Device: SW1\nset version 18.3R3-S4.5\nset system host-name SW1-core\nset system root-authentication encrypted-password \"$6$abcdefghijklmnop\"\nset system login user ansible uid 2001\nset system login user ansible class super-user\nset system login user ansible authentication encrypted-password \"$6$qrstuvwxyz123\"\nset system services ssh\nset system services netconf ssh\nset system syslog archive size 100k\nset system syslog archive files 5\nset interfaces ge-0/0/1 unit 0 family inet address 192.168.1.20/24\nset interfaces ge-0/0/1 unit 0 family inet address 192.168.2.20/24\nset interfaces lo0 unit 0 family inet address 10.0.0.1/32\nset protocols ospf area 0.0.0.0 interface ge-0/0/1.0\nset protocols ospf area 0.0.0.0 interface lo0.0 passive\nset protocols lldp interface all\nset routing-options router-id 10.0.0.1\n```\n\n### 3. Configuration Push Playbook\n\nThis playbook pushes configuration changes to network devices.\n\n```yaml\n---\n- name: Network Device Configuration Updates\n  hosts: network_devices\n  connection: network_cli\n  gather_facts: no\n\n  vars:\n    new_hostname: \"{{ inventory_hostname }}_updated\"\n\n  tasks:\n    - name: Backup current configuration (Cisco)\n      ios_command:\n        commands: show running-config\n      register: current_config\n      when: \"'cisco_routers' in group_names\"\n\n    - name: Update hostname - Cisco\n      ios_config:\n        lines:\n          - hostname {{ new_hostname }}\n        save_when: changed\n      when: \"'cisco_routers' in group_names\"\n\n    - name: Configure logging server - Cisco\n      ios_config:\n        lines:\n          - logging host {{ logging_host }}\n        save_when: changed\n      when: \"'cisco_routers' in group_names\"\n\n    - name: Configure SNMP - Cisco\n      ios_config:\n        lines:\n          - snmp-server community {{ snmp_community }} RO\n        save_when: changed\n      when: \"'cisco_routers' in group_names\"\n\n    - name: Update hostname - Juniper\n      junos_config:\n        lines:\n          - set system host-name {{ new_hostname }}\n      when: \"'juniper_switches' in group_names\"\n\n    - name: Configure logging server - Juniper\n      junos_config:\n        lines:\n          - set system syslog host {{ logging_host }} any any\n      when: \"'juniper_switches' in group_names\"\n\n    - name: Configure SNMP - Juniper\n      junos_config:\n        lines:\n          - set snmp community {{ snmp_community }} authorization read-only\n      when: \"'juniper_switches' in group_names\"\n\n    - name: Update hostname - Arista\n      eos_config:\n        lines:\n          - hostname {{ new_hostname }}\n        save_when: changed\n      when: \"'arista_switches' in group_names\"\n\n    - name: Configure logging server - Arista\n      eos_config:\n        lines:\n          - logging host {{ logging_host }}\n        save_when: changed\n      when: \"'arista_switches' in group_names\"\n\n    - name: Configure SNMP - Arista\n      eos_config:\n        lines:\n          - snmp-server community {{ snmp_community }} ro\n        save_when: changed\n      when: \"'arista_switches' in group_names\"\n\n    - name: Verify configuration\n      pause:\n        prompt: \"Verify the changes before continuing?\"\n        seconds: 30\n\n    - name: Save configuration - Cisco\n      ios_command:\n        commands: write memory\n      when: \"'cisco_routers' in group_names\"\n\n    - name: Save configuration - Juniper\n      junos_command:\n        commands: commit\n      when: \"'juniper_switches' in group_names\"\n\n    - name: Save configuration - Arista\n      eos_command:\n        commands: write memory\n      when: \"'arista_switches' in group_names\"\n```\n\n**Sample Execution Output:**\n\n```bash\n$ ansible-playbook config_push.yml -i hosts.ini\n\nPLAY [Network Device Configuration Updates] ******************\n\nTASK [Backup current configuration (Cisco)] ******************\nok: [R1]\nok: [R2]\n\nTASK [Update hostname - Cisco] *******************************\nchanged: [R1]\nchanged: [R2]\n\nTASK [Configure logging server - Cisco] *********************\nchanged: [R1]\nchanged: [R2]\n\nTASK [Configure SNMP - Cisco] *******************************\nok: [R1]\nok: [R2]\n\nTASK [Update hostname - Juniper] *****************************\nchanged: [SW1]\nchanged: [SW2]\n\nTASK [Configure logging server - Juniper] *******************\nchanged: [SW1]\nchanged: [SW2]\n\nTASK [Configure SNMP - Juniper] *****************************\nchanged: [SW1]\nchanged: [SW2]\n\nTASK [Update hostname - Arista] *****************************\nchanged: [ASW1]\nchanged: [ASW2]\n\nTASK [Configure logging server - Arista] *******************\nok: [ASW1]\nok: [ASW2]\n\nTASK [Configure SNMP - Arista] *****************************\nok: [ASW1]\nok: [ASW2]\n\nTASK [Verify configuration] *********************************\nPausing for 30 seconds\n(ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)\nok: [R1]\n\nTASK [Save configuration - Cisco] ***************************\nok: [R1]\nok: [R2]\n\nTASK [Save configuration - Juniper] *************************\nok: [SW1]\nok: [SW2]\n\nTASK [Save configuration - Arista] **************************\nok: [ASW1]\nok: [ASW2]\n\nPLAY RECAP **************************************************\nR1          : ok=9    changed=3    unreachable=0    failed=0\nR2          : ok=8    changed=3    unreachable=0    failed=0\nSW1         : ok=8    changed=3    unreachable=0    failed=0\nSW2         : ok=8    changed=3    unreachable=0    failed=0\nASW1        : ok=8    changed=1    unreachable=0    failed=0\nASW2        : ok=8    changed=1    unreachable=0    failed=0\n```\n\n**Verification of Changes (post-playbook commands):**\n\n```bash\n# Verify Cisco hostnames changed\n$ ansible cisco_routers -m ios_command -a \"commands='show running-config | include hostname'\" -i hosts.ini\n\nR1 | CHANGED | rc=0 >>\nhostname R1_updated\n\nR2 | CHANGED | rc=0 >>\nhostname R2_updated\n\n# Verify Juniper hostnames changed\n"
}